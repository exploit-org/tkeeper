package org.exploit.keeper.core.shell

import org.exploit.keeper.db.LMKDB

class DeleteCommand : ShellCommand {
    override val name = "delete"
    override fun usage() = "delete <keyId>"

    override fun execute(tokens: List<String>, db: LMKDB) {
        require(tokens.size >= 2) { usage() }
        val keyId = tokens[1]

        db.private.delete(keyId)
        db.public.delete(keyId)

        println("\u001B[32mâœ” Deleted key '$keyId'\u001B[0m")
    }
}