package org.exploit.keeper.service.signature.gg20.initiator

import org.exploit.keeper.api.client.TKeeperClient
import org.exploit.keeper.extension.perform
import org.exploit.keeper.service.signature.gg20.GG20CommitmentHandler
import org.exploit.tss.curve.ec.WeierstrassPointOps

class GG20CommitmentBroadcaster<P : WeierstrassPointOps<P>>(private val handler: GG20CommitmentHandler<P>) {
    fun broadcast(clients: List<TKeeperClient>, sessionId: String) {
        handler.broadcastGammaCommitment(sessionId)
        clients.perform { it.gg20.broadcastCommitment(sessionId) }
    }
}