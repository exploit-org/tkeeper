package org.exploit.keeper.service.signature.frost.initiator

import org.exploit.keeper.api.client.TKeeperClient
import org.exploit.keeper.extension.perform
import org.exploit.keeper.service.signature.frost.FrostCommitmentHandler
import org.exploit.tss.curve.PointOps

class FrostPeerBroadcaster<P : PointOps<P>>(private val commitmentHandler: FrostCommitmentHandler<P>) {
    fun broadcast(peers: List<TKeeperClient>, sessionId: String) {
        commitmentHandler.broadcast(sessionId)

        peers.perform {
            it.frost.broadcast(sessionId)
        }
    }
}