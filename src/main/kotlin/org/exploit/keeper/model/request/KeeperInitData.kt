package org.exploit.keeper.model.request

import org.exploit.keeper.constant.common.ErrorType
import org.exploit.keeper.extension.ensure

data class KeeperInitData(
    val peerId: Int,
    val threshold: Int,
    val total: Int
) {
    fun validate() {
        ensure(peerId > 0) { ErrorType.INVALID_PEER_ID }
        ensure(threshold > 0) { ErrorType.INVALID_THRESHOLD }
        ensure(total > 0) { ErrorType.INVALID_TOTAL }
        ensure(threshold <= total) { ErrorType.INVALID_THRESHOLD}
    }
}