package org.exploit.keeper.config;

import io.quarkus.runtime.annotations.StaticInitSafe
import io.smallrye.config.ConfigMapping
import java.time.Duration

@StaticInitSafe
@ConfigMapping(prefix = "keeper")
interface KeeperConfig {
    fun idx(): Int

    fun threshold(): Int

    fun parallelism(): Int

    fun databasePath(): String

    fun session(): SessionConfig

    fun privateKey(): String

    fun peers(): List<PeerConfig>

    interface SessionConfig {
        fun gg20(): SessionDetail

        fun frost(): SessionDetail

        interface SessionDetail {
            fun expire(): Duration
        }
    }

    interface PeerConfig {
        fun idx(): Int

        fun publicUrl(): String

        fun publicKey(): String
    }
}

